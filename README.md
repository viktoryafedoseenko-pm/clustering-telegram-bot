# Бот для кластеризации в Telegram

Автоматическая группировка текстов с использованием BERTopic и HDBSCAN через интерфейс Telegram.

## Описание

Бот предназначен для загрузки CSV-файлов с текстовыми данными и их автоматической группировки по смысловому содержанию. В основе работы используются современные модели машинного обучения для семантического анализа текстов на русском и английском языках.

## Основные функции

- Обработка CSV-файлов с текстами любого объема
- Автоматическая очистка данных от HTML-разметки, стоп-слов и лишних символов
- Интеллектуальный подбор параметров для кластеризации
- Формирование понятных названий для каждой группы текстов
- Подробная статистика и показатели качества обработки
- Отслеживание прогресса обработки в реальном времени

## Пример использования

1. Передайте боту CSV-файл с текстовыми данными
2. Дождитесь завершения обработки (в среднем 20-60 секунд на 1000 текстов)
3. Получите результаты кластеризации

Результаты кластеризации:
- Обработано текстов: 766
- Найдено групп: 12
- Средний размер группы: 63 текста
- Неклассифицированные тексты: 2.3%

Основные группы:
1. проблема • оплата • карта — 156 текстов
2. доставка • срок • задержка — 98 текстов  
3. качество • товар • брак — 87 текстов

## Техническая реализация

- Python 3.11 — основной язык разработки
- BERTopic — тематическое моделирование
- HDBSCAN — алгоритм кластеризации на основе плотности
- Sentence Transformers — многоязычные эмбеддинги
- python-telegram-bot — работа с Telegram Bot API
- scikit-learn — векторизация текстов

## Структура проекта

```
clustering-telegram-bot/
├── bot.py              # Интерфейс Telegram бота
├── clustering.py       # Кластеризация и предобработка текстов
├── requirements.txt    # Зависимости Python
├── .gitignore         # Исключения для Git
└── README.md          # Документация
```

## Локальный запуск

### Требования
- Python 3.11 или новее
- 4 ГБ оперативной памяти (для работы моделей)
- Токен Telegram бота

### Установка

```bash
# Клонирование репозитория
git clone https://github.com/viktoryafedoseenko-pm/clustering-telegram-bot.git
cd clustering-telegram-bot

# Создание виртуального окружения
python -m venv venv
source venv/bin/activate  # Linux/Mac
venv\Scripts\activate    # Windows

# Установка зависимостей
pip install -r requirements.txt
```

### Настройка

Создайте файл .env:

```
TELEGRAM_TOKEN=your_bot_token_here
```

### Запуск

```bash
python bot.py
```

## Принцип работы

1. **Загрузка**: Пользователь передает CSV-файл с текстами
2. **Предобработка**:
   - Очистка от HTML и CSS
   - Удаление стоп-слов
   - Нормализация текста
3. **Векторизация**: Преобразование текстов в числовые векторы
4. **Кластеризация**: Поиск групп похожих текстов алгоритмом HDBSCAN
5. **Название групп**: Генерация понятных названий на основе ключевых слов
6. **Результат**: CSV-файл с колонками cluster_id и cluster_name

## Метрики качества

Бот автоматически рассчитывает:
- Количество найденных групп
- Распределение текстов по группам
- Процент неклассифицированных текстов
- Средний размер группы

## Планы развития

- Добавление пресетов обработки для разных типов данных
- Визуализация групп текстов
- Экспорт результатов в различные форматы
- Поддержка дополнительных языков
- Тестирование различных параметров обработки
- Веб-интерфейс для управления

## Известные ограничения

- На больших файлах (более 10000 текстов) обработка может занимать более 5 минут
- В некоторых случаях в названиях групп могут оставаться HTML-артефакты

## Лицензия

MIT License — возможность свободного использования для личных и коммерческих проектов.

## Автор

Разработано для автоматизации анализа текстовых данных в продуктовой работе.

Контакты: @viktoryafedoseenko

Если проект был полезен, поставьте звезду на GitHub.
